(function(b,c){b.autoGrowTextArea=function(j,l){var d={},f=this,e=b(j),i;f.settings={};var k=function(){f.settings=b.extend({},d,l);f.offset=0;f.reinit();};f.enable=function(){e.on({"focus.autoGrowTextArea":h,"blur.autoGrowTextArea":g});f.$origin.val(e.val());f.grow();};f.disable=function(){e.off(".autoGrowTextArea");clearInterval(f.timerId);};f.reinit=function(){f.disable();e.css({overflow:"hidden",resize:"none"});if(f.$origin.length>0){f.$origin.remove();}f.$origin=e.clone().val("").appendTo(c.body);i=f.$origin.get(0);f.height=f.$origin.height();i.scrollHeight;f.hasOffset=(i.scrollHeight!==f.height);if(f.hasOffset){f.innerHeight=f.$origin.innerHeight();f.offset=f.innerHeight-f.height;}f.$origin.hide();f.enable();};f.grow=function(){var o,n,m;o=e.attr("value");if(o===f.prev){return;}f.prev=o;f.$origin.attr("value",o).show();i.scrollHeight;n=i.scrollHeight;m=n-f.offset;f.$origin.hide();e.height(m>f.initialHeight?m:initialHeight);};var h=function(){f.prev=e.val();f.timerId=setInterval(f.grow,30);};var g=function(){clearInterval(f.timerId);};f.destory=function(){f.disable();f.$origin.remove();e.removeData("autoGrowTextArea");};};b.fn.autoGrowTextarea=a;b.fn.autoGrowTextArea=a;if(!("autoGrow" in b.fn)){b.fn.autoGrow=a;}var a=function(d){return this.each(function(){if(undefined==b(this).data("autoGrowTextArea")){var e=new b.autoGrowTextArea(this,d);b(this).data("autoGrowTextArea",e);}});};}(jQuery,document));